#!/usr/bin/env node
/* eslint-disable no-var */
var program = require('commander');
var version = require('../package.json').version;

console.log('The CLI is being deprecated');
process.exit();

require('babel-register');
require('../loadenv');

program.version(version);

program
  .command('scrape <route> [query]')
  .description('Scrapes a route with an optional query')
  .action(function() {
    require('../cli/scrape').apply(this, arguments);
  });

program
  .command('run [script]')
  .description('Runs [script], or "index.js" if [script] is not provided')
  .action(function() {
    require('../cli/run').apply(this, arguments);
  });

program
  .command('test [routeId]')
  .description('Test the route [routeId], or all the routes if [routeId] is not provided')
  .action(function() {
    require('../cli/test').apply(this, arguments);
  });

program
  .command('list')
  .description('Lists available routes')
  .action(function() {
    require('../cli/list').apply(this, arguments);
  });

program
  .command('work')
  .description('Starts the workers and process the queue')
  .action(function() {
    require('../cli/work').apply(this, arguments);
  });

if (!process.argv.slice(2).length) {
  program.outputHelp();
}

program.parse(process.argv);
