#!/usr/bin/env node
process.env.NODE_TLS_REJECT_UNAUTHORIZED = 0;

require('babel-polyfill');
require('babel-core/register');
require('../loadenv');

var program = require('commander');
var version = require('../package.json').version;

program
  .version(version)
  .usage('nestqwe');

program
  .command('scrape <route> [query]')
  .description('Scrapes a route with an optional query')
  .action(function() {
    require('../cli/scrape').default.apply(this, arguments);
  });

program
  .command('run [script]')
  .description('Runs the provided script')
  .action(function() {
    require('../cli/run').default.apply(this, arguments);
  });

program
  .command('list')
  .description('Lists available routes')
  .action(function() {
    require('../cli/list').default.apply(this, arguments);
  });

program
  .command('test [route]')
  .description('Runs the test defined in <route>')
  .action(function() {
    require('../cli/test').default.apply(this, arguments);
  });


program.parse(process.argv);

/*

program
  .command('work')
  .description('Starts the engine and consume the queue')
  .action(function() {
    cli.work({ root: root });
  });
*/
